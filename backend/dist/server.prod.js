"use strict";var express=require("express"),mongoose=require("mongoose"),bodyParser=require("body-parser"),cors=require("cors"),_require=require("./jwt/checkAuth"),checkAuthToken=_require.checkAuthToken,userRegister=require("./routes/routes.js").userRegister,userAuth=require("./routes/routes.js").userAuth,createQuiz=require("./routes/routes.js").createQuiz,DB_URL="mongodb+srv://Nik:211212@cluster0.x4obgxq.mongodb.net/test-app?retryWrites=true&w=majority",app=express(),db=mongoose.connection;mongoose.connect(DB_URL),app.use(cors()),app.use(bodyParser.urlencoded({extended:!0})),app.use(bodyParser.json()),db.on("error",function(e){console.log("connection error:",e.message)}),db.once("open",function(){console.log("DB is connected!")}),app.listen(4444,function(){console.log("Express server listening on port 4444")}),app.post("/register",userRegister),app.post("/auth",userAuth),app.post("/quiz",checkAuthToken,createQuiz);